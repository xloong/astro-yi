---
title: 巧用端口映射 不通过网关开放任意内网
description: 今天给大家说说如何巧用端口映射，不通过网关开放内网的方法。一：使用前提需要有一台公网的IP。假如现在我们有一台公网的IP：210.210.21.21二：用到的工具1．lcx.exe2.  vdic
date: 2008-03-06 10:10:01
category: 技术文章
tags: ['端口port', '技术类', '技巧']
post_id: 394
alias:
ViewNums: 8159
---

文章作者：zxzgcn(萍水相逢)
信息来源：邪恶八进制信息安全团队（[www.eviloctal.com](http://www.eviloctal.com)）

今天给大家说说如何巧用[端口](/tags/%E7%AB%AF%E5%8F%A3port)映射，不通过网关开放内网的方法。

**一：使用前提**需要有一台公网的IP。假如现在我们有一台公网的IP ：210.210.21.21

**二：用到的工具**
1．lcx.exe
2.  vdic

**三：方法讲解**
     **方法一**：用lcx.exe进行映射。
    (1)我们将lcx.exe传到公网IP上，在公网IP上DOS环境下执行 lcx –listen 端口1 端口2
    如lcx –listen 3030 3166 见下图

[![](http://forum.eviloctal.com/attachments/Mon_0605/58_4_c6fac4d32cbb795.jpg)](http://forum.eviloctal.com/attachments/Mon_0605/58_4_c6fac4d32cbb795.jpg)

此命令的意思是监听3030端口和3166端口，以便和外部进行连接。
（2）将lcx.exe下载到要开放的内网的计算机上，然后在DOS环境下执行 lcx –slave 公网IP  端口 内网IP  端口
  如lcx -slave 211.211.21.21 3030 172.16.32.153 80 见下图：

[![](http://forum.eviloctal.com/attachments/Mon_0605/58_4_ad4038cfb601e49.jpg)](http://forum.eviloctal.com/attachments/Mon_0605/58_4_ad4038cfb601e49.jpg)

解释一下，这句话的意思是说将内网计算机IP为 172.16.32.153 的80端口（也就是WEB 服务端口）
映射到公网IP为210.210.21.21的3030端口上,这样，内网和公网的计算机就建立 起了连接。 如果你
内网计算机提供WEB服务，现在，只要通过外网IP 210.210.21.21和端口3166 可以访问内网的网站了。
如图开放IP前，访问地址 [http://172.16.32.153/index...](http://172.16.32.153/index.htm)

[![](http://forum.eviloctal.com/attachments/Mon_0605/58_4_de6d1a59fdf9680.jpg)](http://forum.eviloctal.com/attachments/Mon_0605/58_4_de6d1a59fdf9680.jpg)

**方法二**：用VIDC
我们将vidcs.exe传到公网IP上，在公网计算机上运行vidcs –p端口，如vdics –p5205见下图

[![](http://forum.eviloctal.com/attachments/Mon_0605/58_4_b82327261a73a86.jpg)](http://forum.eviloctal.com/attachments/Mon_0605/58_4_b82327261a73a86.jpg)

这句话的意思是在公网计算机上监听端口 5205 然后回到内网计算机上，直接点击运行
vIDCc.exe，见下图

[![](http://forum.eviloctal.com/attachments/Mon_0605/58_4_970985537a1530f.jpg)](http://forum.eviloctal.com/attachments/Mon_0605/58_4_970985537a1530f.jpg)

解释一下上面的设置: VIDC服务IP，指运行了vidcs.exe进行监听了端口的IP地址，端口指是在公网上监听的端口，上面我监听的是5205端口，bindip指你要开放出去的内网的IP， Bind端口指你内网计算机需要开放的端口(FTP服务器端口为21，  WEB 服务端口为80， mail服务端口25)你想开放哪个就填哪个吧。
映射端口指你想通过公网哪个端口提供服务。端口由你定,填好之后,我们点”连接”,马上就到收到提示Success to Connect(210.210.21.21:5205,ver:1.2), 说明连接成功。继续点”bind”，同样会收到成功的提示。
这样，你的机子的80端口就开放出去了。 访问方法 http://公网ip:映射端口。
如 [http://210.210.21.21:8080](http://210.210.21.21:8080/) 见下图

[![](http://forum.eviloctal.com/attachments/Mon_0605/58_4_7702288b18e9c3e.jpg)](http://forum.eviloctal.com/attachments/Mon_0605/58_4_7702288b18e9c3e.jpg)

开放IP后，访问地址 http://210.210.21.21:3166/...见下图

[![](http://forum.eviloctal.com/attachments/Mon_0605/58_4_d00ca31845c0d95.jpg)](http://forum.eviloctal.com/attachments/Mon_0605/58_4_d00ca31845c0d95.jpg)

上面就是两种不通过网关开放内网的方法.

