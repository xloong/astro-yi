---
title: 用dos命令扫描一个网段的全部端口
description: 在win2000下开一个dos窗口，然后执行for/l%ain(1,1,254)dostart/min/lowtelnet192.168.0.%a3389这样192.168.0.x这个段的所有开放3389端口得主机都会暴露这条命令执行后会在任务栏开254个小窗口然后telnet链接失败的窗口会在大约5秒后自动退出
date: 2007-07-31 01:23:49
category: 技术文章
tags: ['技术类', 'DOS批处理bat', 'Windows']
post_id: 103
alias: 103
ViewNums: 4045
---

　　在win2000下开一个dos窗口，然后执行
for /l %a in (1,1,254) do start /min /low telnet 192.168.0.%a 3389
这样192.168.0.x这个段的所有开放3389端口得主机都会暴露
这条命令执行后
会在任务栏开254个小窗口
然后telnet链接失败的窗口会在大约5秒后自动退出
剩下的窗口就是相对应开放端口的主机了
看一下小窗口的标题可以得知主机的ip地址
如果你觉得机器性能很好的话 可以把/low参数去了

现在扫描一台主机的多个端口，如下
for /l %a in (1,1,65535) do start /low /min telnet 192.168.0.1 %a
这样就扫描192.168.0.1的1到65535端口

现在扫描一个网段的所有端口
for /l %a in (1,1,254) do for /l %b in (1,1,65535) do start /low /min telnet 192.168.0.%a %b
这样就会扫描192.168.0.x段的全部1到65535段口

以上命令只能在win2000下使用，因为/l累加参数是win2000对for的扩展
当然winXP和win.NET都可以用，winME我没有试过，因为没有winME的机器

