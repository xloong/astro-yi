---
title: 如何阅读别人的代码（转）
description: 作为初学者，我们可能经常会需要去阅读别人的代码，以求从中学到别人的设计思路，抑或是从代码中了解类库的使用。不管哪种需求，我们都需要做到快速准确地阅读。那么，究竟如何阅读呢？让我们以一个.net的项目为例：当我们打开一个.net解决方案的时候，里面通常有不止一个项目，例如一个三层架构的web项目，里面除了一个web网站外，通常还会包括诸如数据层(DAL)、逻辑层(BLL)项目，另外，一般我们会提供一个通用项目（Common类库），或者把DAL中的model部分抽取出来，这样就可能形成一个包含很多个组件的解决方案。...
date: 2008-08-03 23:50:03
category: 技术文章
tags: ['代码', '技术类', '技巧']
post_id: 563
alias:
ViewNums: 5284
---

作为初学者，我们可能经常会需要去阅读别人的代码，以求从中学到别人的设计思路，抑或是从代码中了解类库的使用。不管哪种需求，我们都需要做到快速准确地阅读。那么，究竟如何阅读呢？

让我们以一个.net的项目为例：当我们打开一个.net解决方案的时候，里面通常有不止一个项目，例如一个三层架构的web项目，里面除了一个web网站外，通常还会包括诸如数据层(DAL)、逻辑层(BLL)项目，另外，一般我们会提供一个通用项目（Common类库），或者把DAL中的model部分抽取出来，这样就可能形成一个包含很多个组件的解决方案。

那么我们拿到这个解决方案的时候要怎么入手呢？

我的经验是，读别人的代码，由面及点和由点及面相结合的读法是最快的。

所谓由面及点，就是说，首先理解整个解决方案的分工，比如叫做“web”项目是网站部分，是MVC架构中的V；名字中包括“BLL”的部分是业务代码，是MVC架构中的C；而名字中包括“DAL”的部分是数据库访问代码，是MVC架构中的M……理解每个子项目的功能，有助于我们直接进入主题，而不用花太多时间去熟悉所谓的框架部分。

那么，主题在哪里呢？对于一个web项目来说，主题就是页面和业务代码。而这些，需要我们有点及面地学习。

所谓由点及面，就是说，我们先进入一个页面，比如index.aspx（如果没有这个页面，一般也会有UserLogin.aspx之类的页面），打开这个页面，找到其中的功能按钮，根据按钮事件找到下一个页面，在熟悉页面流向的过程中，我们也从事件代码中了解了框架代码的调用方法。

那么，阅读一个具体的页面（包括页面本身和按钮事件，或者说，业务代码）的方法呢？

1、代码包括如下部分
1）页面本身，即前台代码
2）页面后台，即各种事件
3）在页面事件中调用到的其他代码（例如数据库访问代码、多层架构中分出的其他层代码等）

2、阅读顺序
1）阅读前台代码，对于初学者可以学习控件标签的使用方法，当然，事实上我们是用vs的设计工具来画页面的，察看代码只是为了更加熟悉，或者加深理解。
2）阅读页面后台事件代码，分两步走。首先，宏观理解一个事件的功能，比如点击一个登陆按钮，是要做：取得输入用户名和密码，根据用户名和密码查找数据库，根据返回结果判断页面流向，提示登陆成功或失败信息，等等。只需要理解功能即可，不需要深入理解每句代码的作用。因为这个时候我们是初次察看别人的后台代码，对于封装很好的框架，我们是很难第一次阅读就读懂所有东西的。
3）然后，在我们已经了解了一个事件的功能后，我们再次阅读，此时逐行分析。例如我们会碰到代码中定义了一个数据表对象（如User对象），然后执行数据库查询（此时我们可以熟悉项目中的数据库操作），然后对返回值进行操作（例如判断用户存在否，密码正确否）。在这些操作中我们可以（1）学习基础类库的使用，（2）熟悉框架代码的使用
4）在经过多个页面的流转后，我们可能对于框架代码已经有了一定的熟悉，此时我们可以试着回到宏观角度，理解业务和业务代码之外的东西，例如，我们可以查看DAL，看看人家的项目是如何封装数据库操作的。
注：在学习代码过程中，了解框架是意识上的进步，学习代码是技术上的进步，所以在逐步理解代码阶段，碰到人家封装好的类，例如数据库访问类，不用太执着，只要理解即可；而碰到某些编程技巧，则需要深入理解。

