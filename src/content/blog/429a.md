---
title: 菜鸟必懂木马连接原理（转）
description:        目前常见的木马有三种正向连接木马反弹连接木马收信木马　　正向连接木马,所谓正向，就是在中马者在机器上开个端口，而我们去连接他的端口。而我们要知道他的IP，才能够连接他。123就是他机器上开的端口　　动态IP：每次拨号，IP都会跟换.所以，就算对方中了木马，在下次拨号的时候，我们会因为找不到IP而丢肉鸡
date: 2008-03-30 09:29:20
category: 技术文章
tags: ['木马']
post_id: 429
alias:
ViewNums: 6285
---

目前常见的[木马](http://www.virus-info.cn/virus/Trojan.html)有三种 正向连接木马 反弹连接木马 收信木马

正向连接木马,所谓正向，就是在中马者在机器上开个[端口](/blog/0-to-33600-port)，而我们去连接他的端口。而我们要知道他的IP，才能够连接他。123就是他机器上开的端口

动态IP：每次拨号，IP都会跟换.所以，就算对方中了木马，在下次拨号的时候，我们会因为找不到IP而丢肉鸡

路由器：就是多个电脑同用1条宽带(网吧上网就是最好的例子)他们通过路由器连接到宽带，例如：主机的IP为225.124.3.41，而内网(就是用路由器的机器)的IP为192.168.X.X。在内网环境下，我们外界是无法访问的，就是机器中了木马也没用。下面大家看下我的示意图。简单来说，内网的机器是比较安全的，外界是无法访问的，就是我们连接不了内网器。而连接内网的机器，除非在同区域网里(在网吧A机，就能用RIDMIN连接网吧的B机).

　　简单总结：在不同区域网下，正向木马只能连接到外网的机器，而不能连接到内网的机器

　　由于一系列的不足，就产生了反弹连接木马，例如出门的国产软件：[灰鸽子](http://www.virus-info.cn//tags/%E7%81%B0%E9%B8%BD%E5%AD%90)

　　反弹连接木马，就是在我们机器上开启一个端口，让中马者来连接我们，从而获得肉鸡的信息，就算对方的IP怎么改变，也是无际于事。如果我们自己机器上的IP改变了，肉鸡就无法找到我们的机器，从而无法获得肉鸡的信息，不过这点是不成问题的，WWW兴起，就有了域名。在网络中通过的对域名的访问能找到自己对应的IP地址，例如[www.baidu.com](http://www.baidu.com)的IP地址为22.181.38.4 如果百度的IP变成12.11.22.3的话，只要域名不改变，就算IP地址怎么变，它也能找到你。就算是内网的机器，我们也能获得他的信息。

　　总结到底：本地开启1个端口，肉鸡连接上我们，就算是内外网的机器也可以

　　反弹连接木马最头疼的地方就是使用者是内网状态的(大家可以看我的路线图，蓝色为反弹连接，黑色为正常连接)。说到为什么最头疼，大家就回忆下正向连接木马的原理。别人是无法直接访问路由器内的机器(内网)。

