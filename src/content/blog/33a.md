---
title: 决不做“肉鸡” 从零开始自检系统漏洞
description: 大家可能都抓过鸡吧甚至有的人抓了不少但是大家有没想过,自己的爱机现在是不是已经成为了别人的鸡?现在就来看看这篇文章吧:决不做“肉鸡”从零开始自检系统漏洞文章没什么很深的技术,就是简单的PC安全,当然也是入门级的~
date: 2007-05-27 03:26:23
category: 技术文章
tags: ['技术类', '安全']
post_id: 33
alias: 33
ViewNums: 4954
---

决不做&ldquo;肉鸡&rdquo; 从零开始自检系统漏洞

转自:[黑客X档案](http://www.hackerxfiles.net) 论坛

　近来黑客攻击事件频频发生，我们身边的朋友也不断有QQ、E-mail和游戏账号被盗事件发生。现在的黑客技术有朝着大众化方向发展的趋势，能够掌握攻击他人系统技术的人越来越多了，只要你的电脑稍微有点系统Bug或者安装了有问题的应用程序，就有可能成为他人的肉鸡。如何给一台上网的机器查漏洞并做出相应的处理呢?

　　**一、要命的端口**

　　计算机要与外界进行通信，必须通过一些端口。别人要想入侵和控制我们的电脑，也要从某些端口连接进来。某日笔者查看了一位朋友的系统，吃惊地发现开放了139、445、3389、4899等重要端口，要知道这些端口都可以为黑客入侵提供便利。尤其是4899，可能是入侵者安装的后门工具Radmin打开的，他可以通过这个端口取得系统的完全控制权。

　　在Windows 98下，通过&ldquo;开始&rdquo;选取&ldquo;运行&rdquo;，然后输入&ldquo;command&rdquo;(Windows 2000/XP/2003下在&ldquo;运行&rdquo;中输入&ldquo;cmd&rdquo;)，进入命令提示窗口，然后输入netstat/an，就可以看到本机端口开放和网络连接情况。

　　那怎么关闭这些端口呢?因为计算机的每个端口都对应着某个服务或者应用程序，因此只要我们停止该服务或者卸载该程序，这些端口就自动关闭了。例如可以在&ldquo;我的电脑 &rarr;控制面板&rarr;计算机管理&rarr;服务&rdquo;中停止Radmin服务，就可以关闭4899端口了。

　　如果暂时没有找到打开某端口的服务或者停止该项服务可能会影响计算机的正常使用，我们也可以利用防火墙来屏蔽端口。以天网个人防火墙关闭4899端口为例。打开天网&ldquo;自定义IP规则&rdquo;界面，点击&ldquo;增加规则&rdquo;添加一条新的规则，在&ldquo;数据包方向&rdquo;中选择&ldquo;接受&rdquo;，在&ldquo;对方IP地址&rdquo;中选择&ldquo;任何地址&rdquo;，在TCP选项卡的本地端口中填写从4899到0，对方端口填写从0到0，在&ldquo;当满足上面条件时&rdquo;中选择&ldquo;拦截&rdquo;，这样就可以关闭4899端口了。其他的端口关闭方法可以此类推。

      补充 : 还可以通过&ldquo;管理工具&rarr;本地安全策略&rdquo;进入，右击&ldquo;IP安全策略&rdquo;，选择&ldquo;创建IP安全策略&rdquo;，点[下一步]。输入安全策略的名称，点[下一步]，一直到完成，你就创建了一个安全策略： 接着你要做的是右击&ldquo;IP安全策略&rdquo;，进入管理IP筛选器和筛选器操作，在管理IP筛选器列表中，你可以添加要封锁的端口，这里以关闭ICMP和139端口为例说明。
关闭了ICMP，黑客软件如果没有强制扫描功能就不能扫描到你的机器，也Ping不到你的机器。关闭ICMP的具体操作如下：点[添加]，然后在名称中输入&ldquo;关闭ICMP&rdquo;，点右边的[添加]，再点[下一步]。在源地址中选&ldquo;任何IP地址&rdquo;，点[下一步]。在目标地址中选择&ldquo;我的IP地址&rdquo;，点[下一步]。在协议中选择&ldquo;ICMP&rdquo;，点[下一步]。回到关闭ICMP属性窗口，即关闭了ICMP。
下面我们再设置关闭139，同样在管理IP筛选器列表中点&ldquo;添加&rdquo;，名称设置为&ldquo;关闭139&rdquo;，点右边的&ldquo;添加&rdquo;，点[下一步]。在源地址中选择&ldquo;任何IP地址&rdquo;，点[下一步]。在目标地址中选择&ldquo;我的IP地址&rdquo;，点[下一步]。在协议中选择&ldquo;TCP&rdquo;，点[下一步]。在设置IP协议端口中选择从任意端口到此端口，在此端口中输入139，点[下一步]。即完成关闭139端口，其他的端口也同样设置.
然后进入设置管理筛选器操作，点&ldquo;添加&rdquo;，点[下一步]，在名称中输入&ldquo;拒绝&rdquo;，点[下一步]。选择&ldquo;阻止&rdquo;，点[下一步]。
然后关闭该属性页，右击新建的IP安全策略&ldquo;安全&rdquo;，打开属性页。在规则中选择&ldquo;添加&rdquo;，点[下一步]。选择&ldquo;此规则不指定隧道&rdquo;，点[下一步]。在选择网络类型中选择&ldquo;所有网络连接&rdquo;，点[下一步]。在IP筛选器列表中选择&ldquo;关闭ICMP&rdquo;，点[下一步]。在筛选器操作中选择&ldquo;拒绝&rdquo;，点[下一步]。这样你就将&ldquo;关闭ICMP&rdquo;的筛选器加入到名为&ldquo;安全&rdquo;的IP安全策略中。同样的方法，你可以将&ldquo;关闭139&rdquo;等其他筛选器加入进来。
最后要做的是指派该策略，只有指派后，它才起作用。方法是右击&ldquo;安全&rdquo;，在菜单中选择&ldquo;所有任务&rdquo;，选择&ldquo;指派&rdquo;。IP安全设置到此结束，你可根据自己的情况，设置相应的策略。

     在这里要感谢 [空天](http://www.hackerxfiles.net/viewpro.php?uid=11696)  给的建议,其实这篇文章是我转的,内容也只是大楷看了下.当然这文章还有许多要补充的,希望大家能够提出.把这文章写的更加全面.....

　　**二、敌人的&ldquo;进程&rdquo;**

　　在Windows 2000下，可以通过同时按下&ldquo;Ctrl+Alt+Del&rdquo;键调出任务管理器来查看和关闭进程;但在Windows 98下按&ldquo;Ctrl+Alt+del&rdquo;键只能看到部分应用程序，有些服务级的进程却被隐藏因而无法看到了，不过通过系统自带的工具msinfo32还是可以看到的。在&ldquo;开始&rarr;运行&rdquo;里输入msinfo32，打开&ldquo;Microsoft 系统信息&rdquo;界面，在&ldquo;软件环境&rdquo;的&ldquo;正在运行任务&rdquo;下可以看到本机的进程。但是在Windows 98下要想终止进程，还是得通过第三方的工具。很多系统优化软件都带有查看和关闭进程的工具，如春光系统修改器等。

　　但目前很多木马进程都会伪装系统进程，新手朋友很难分辨其真伪，所以这里推荐一款强大的杀木马工具──&ldquo;木马克星&rdquo;，它可以查杀8000多种国际木马，1000多种密码偷窃木马，功能十分强大，实在是安全上网的必备工具!

　　**三、小心，远程管理软件有大麻烦**

　　现在很多人都喜欢在自己的机器上安装远程管理软件，如Pcanywhere、Radmin、VNC或者Windows自带的远程桌面，这确实方便了远程管理维护和办公，但同时远程管理软件也给我们带来了很多安全隐患。例如Pcanywhere 10.0版本及更早的版本存在着口令文件*.CIF容易被解密(解码而非爆破)的问题，一旦入侵者通过某种途径得到了*.CIF文件，他就可以用一款叫做Pcanywherepwd的工具破解出管理员账号和密码。

　　而Radmin则主要是空口令问题，因为Radmin默认为空口令，所以大多数人安装了Radmin之后，都忽略了口令安全设置，因此，任何一个攻击者都可以用Radmin客户端连接上安装了Radmin的机器，并做一切他想做的事情。

　　Windows系统自带的远程桌面也会给黑客入侵提供方便的大门，当然是在他通过一定的手段拿到了一个可以访问的账号之后。

　　可以说几乎每种远程管理软件都有它的问题，如本报43期G12版介绍的强大的远程管理软件DameWare NT Utilitie。它工具包中的DameWare Mini Remote Control某些版本也存在着缓冲区溢出漏洞，黑客可以利用这个漏洞在系统上执行任意指令。所以，要安全地远程使用它就要进行IP限制。这里以Windows 2000远程桌面为例，谈谈6129端口(DameWare Mini Remote Control使用的端口)的IP限制:打开天网&ldquo;自定义IP规则&rdquo;界面，点击&ldquo;增加规则&rdquo;添加一条新的规则。在&ldquo;数据包方向&rdquo;中选择&ldquo;接受&rdquo;，在&ldquo;对方IP地址&rdquo;中选择&ldquo;指定地址&rdquo;，然后填写你的IP地址，在TCP选项卡的本地端口中填写从6129到0，对方端口填写从0到0，在&ldquo;当满足上面条件时&rdquo;中选择&ldquo;通行&rdquo;，这样一来除了你指定的那个IP(这里假定为192.168.1.70)之外，别人都连接不到你的电脑上了。

　　安装最新版的远程控制软件也有利于提高安全性，比如最新版的Pcanywhere的密码文件采用了较强的加密方案。

**四、&ldquo;专业人士&rdquo;帮你免费检测**

　　很多安全站点都提供了在线检测，可以帮助我们发现系统的问题，如天网安全在线推出的在线安全检测系统──天网医生，它能够检测你的计算机存在的一些安全隐患，并且根据检测结果判断你系统的级别，引导你进一步解决你系统中可能存在的安全隐患。

　　天网医生(http://pfw.sky.net.cn/news/info/list.php?sessid=&sortid=17)可以提供木马检测、系统安全性检测、端口扫描检测、信息泄漏检测等四个安全检测项目，可能得出四种结果:极度危险、中等危险、相当安全和超时或有防火墙。其他知名的在线安全检测站点还有千禧在线(http://www.china-yk.com/tsfw/)以及蓝盾在线检测(http://www.bluedon.com/onlinescan/portscan.asp)。另外,IE的安全性也是非常重要的,一不小心就有可能中了恶意代码、网页木马的招儿，http://bcheck.scanit.be/bcheck/就是一个专门检测IE是否存在安全漏洞的站点，大家可以根据提示操作。

　　**五、自己扫描自己**

　　天网医生主要针对网络新手，而且是远程检测，速度比不上本地，所以如果你有一定的基础，最好使用安全检测工具(漏洞扫描工具)手工检测系统漏洞。

　　我们知道黑客在入侵他人系统之前，常常用自动化工具对目标机器进行扫描，我们也可以借鉴这个思路，在另一台电脑上用漏洞扫描器对自己的机子进行检测。功能强大且容易上手的国产扫描器首推X-Scan，当然小蓉流光也很不错。

　　以X-Scan为例，它有开放端口、CGI漏洞、IIS漏洞、RPC漏洞、SSL漏洞、SQL-SERVER等多个扫描选项，更为重要的是列出系统漏洞之外，它还给出了十分详尽的解决方案，我们只需要&ldquo;按方抓药&rdquo;即可。

　　例如，用X-Scan对隔壁某台计算机进行完全扫描之后，发现如下漏洞:

　　[192.168.1.70]: 端口135开放: Location Service

　　[192.168.1.70]: 端口139开放: NET BIOS Session Service

　　[192.168.1.70]: 端口445开放: Mi crosoft-DS

　　[192.168.1.70]: 发现 NT-Server弱口令: user/[空口令]

　　[192.168.1.70]: 发现 &ldquo;NetBios信息&rdquo;

　　从其中我们可以发现，Windows 2000弱口令的问题，这是个很严重的漏洞。NetBios信息暴露也给黑客的进一步进攻提供了方便，解决办法是给User账号设置一个复杂的密码，并在天网防火墙中关闭135～139端口。

　　**六、别小瞧Windows Update**

　　微软通常会在病毒和攻击工具泛滥之前开发出相应的补丁工具，只要点击&ldquo;开始&rdquo;菜单中的Windows Update，就到了微软的Windows Update网站，在这里下载最新的补丁程序。所以每周访问Windows Update网站及时更新系统一次，基本上就能把黑客和病毒拒之门外。
